<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.19.0.final using JasperReports Library version 6.19.0-646c68931cebf1a58bc65c4359d1f0ca223c5e94  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Rpt_BC_TKsanxuat_TSon" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="9c420399-87d8-4fd4-9416-0a6a22fd07d1">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="adempiere_7.1"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
	<parameter name="StartDate" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date(118,0,1)]]></defaultValueExpression>
	</parameter>
	<parameter name="EndDate" class="java.util.Date">
		<defaultValueExpression><![CDATA[NOW()]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_Org_ID" class="java.lang.Integer"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["dev/"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT nhom, stt, id, a2, round(a3, 2) as a3,round(a4, 2) as a4,round(a5, 2) as a5,round(a6, 2) as a6,round(a7, 2) as a7,round(a8, 2) as a8,round(a9, 2) as a9  FROM(

SELECT 'I' AS nhom, 'I' AS stt, '1' AS id, 'NGUYÊN LIỆU VÁN SẤY' AS a2, NULL::int4 AS a3,NULL::int4 AS a4,NULL::int4 AS a5,NULL::int4 AS a6,NULL::int4 AS a7,NULL::int4 AS a8,NULL::int4 AS a9
UNION ALL
SELECT 'I' AS nhom,stt,id, a2, a3, a4,a5,a6,a7,a8,a7+a8 - a5 AS a9 FROM
( 
SELECT '1' AS stt,id,'Ván sấy  loại A +' AS a2,  sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8
FROM (

SELECT '2' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '2' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '2' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '2' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL
SELECT '2' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '2' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004073 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id

UNION ALL

SELECT '2' AS stt,id,'Ván sấy Loại A' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8
FROM (
SELECT '3' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '3' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '3' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '3' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '3' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '3' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004071 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id

UNION ALL

SELECT '3' AS stt,id,'Ván sấy Loai B' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8
FROM (
SELECT '4' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '4' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '4' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '4' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '4' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '4' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004072 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id

UNION ALL

SELECT '4' AS stt,id,'Ván sấy  Loại C' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8
FROM (
SELECT '5' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '5' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '5' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '5' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '5' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '5' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1004070 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id
) AS t 
UNION ALL

SELECT 'I' AS nhom,stt,id, a2, a3, a4,a5,a6,a7,a8,(a7+a8) - (a5+a3) AS a9 
FROM(
SELECT '5' AS stt,id,'Ván may, p loại dở dang cuối kỳ' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8
FROM (
SELECT '6' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '6' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '6' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '6' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND  inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '6' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '6' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL) AND inv.M_Product_ID=1013052 AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k  GROUP BY id 
) AS t 

------
UNION ALL
SELECT 'II' AS nhom,'II' AS stt,'7' AS id, 'THÀNH PHẨM' AS a2, NULL::int4 AS a3,NULL::int4 AS a4,NULL::int4 AS a5,NULL::int4 AS a6,NULL::int4 AS a7,NULL::int4 AS a8,NULL::int4 AS a9

UNION ALL

SELECT 'II' AS nhom,stt,id, a2,a3, a4,a5,a6,a7,a8, (a3+a5) -(a7+a8) AS a9 FROM
( 
SELECT '1' AS stt, id, 'Ván cốt thiếu' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8 
FROM(
SELECT '8' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}


UNION ALL

SELECT '8' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '8' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '8' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '8' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '8' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000080
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id

UNION ALL

SELECT '2' AS stt, id, 'Ván cốt đủ' AS a2,sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8 
FROM(
SELECT '9' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}


UNION ALL

SELECT '9' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '9' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '9' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '9' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '9' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000070
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id
UNION ALL
SELECT '3' AS stt,id, 'Ván thành phẩm DH' AS a2,sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8 
FROM(
SELECT '10' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}


UNION ALL

SELECT '10' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '10' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '10' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '10' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '10' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000064
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id
UNION ALL
SELECT '4' AS stt,id,'Ván bị lỗi thanh lý' AS a2, sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8 
FROM(
SELECT '11' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}


UNION ALL

SELECT '11' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '11' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '11' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '11' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '11' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000081
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id
UNION ALL
SELECT '5' AS stt,id, 'Ván dở dang tồn kho' AS a2,sum(a3) AS a3,sum(a4) AS a4,sum(a5) AS a5,sum(a6) AS a6,sum(a7) AS a7,sum(a8) AS a8 
FROM(
SELECT '12' AS "id", sum(inv.productionqty) AS a3, 0 AS a4, 0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_production iv
INNER JOIN m_productionplan inv ON iv.m_production_id = inv.m_production_id 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}


UNION ALL

SELECT '12' AS "id",0 AS a3, sum(inv.movementqty) AS a4,0 AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'N'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '12' AS "id",0 AS a3, 0 AS a4, sum(CASE WHEN inv.qtybook < inv.qtycount THEN inv.qtycount-inv.qtybook ELSE 0 END) AS a5, 0 AS a6, 0 AS a7, 0 AS a8 FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL

SELECT '12' AS "id",0 AS a3, 0 AS a4, 0 AS a5,sum(inv.movementqty) AS a6, 0 AS a7, 0 AS a8 FROM m_inout iv
INNER JOIN m_inoutline inv ON iv.m_inout_id = inv.m_inout_id  AND issotrx = 'Y'
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}

UNION ALL
SELECT '12' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6, sum(inv.qtyinternaluse) AS a7, 0 AS a8 FROM m_inventory iv 
INNER JOIN m_inventoryline inv ON iv.m_inventory_id = inv.m_inventory_id AND  iv.c_doctype_id =1000326 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
UNION ALL

SELECT '12' AS "id",0 AS a3, 0 AS a4, 0 AS a5, 0 AS a6,0 AS a7, sum(CASE WHEN inv.qtybook > inv.qtycount THEN inv.qtybook-inv.qtycount ELSE 0 END) AS a8
FROM M_Inventory iv 
INNER JOIN m_inventoryline inv ON iv.M_Inventory_id = inv.M_Inventory_id AND iv.c_doctype_id = 1000323 
INNER JOIN m_product hh ON inv.m_product_id = hh.m_product_id AND  M_AttributeSet_ID=1000083
WHERE iv.ad_client_id=$P{AD_CLIENT_ID} AND iv.docstatus IN ('CO','CL') AND (iv.AD_Org_ID=$P{AD_Org_ID} OR $P{AD_Org_ID} IS NULL)  AND iv.movementdate >=$P{StartDate} AND iv.movementdate<=$P{EndDate}
) AS k GROUP BY id
) AS t ) AS t ORDER BY CAST("id" AS INTEGER) ASC]]>
	</queryString>
	<field name="nhom" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nhom"/>
		<property name="com.jaspersoft.studio.field.label" value="nhom"/>
	</field>
	<field name="stt" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="stt"/>
		<property name="com.jaspersoft.studio.field.label" value="stt"/>
	</field>
	<field name="id" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="id"/>
		<property name="com.jaspersoft.studio.field.label" value="id"/>
	</field>
	<field name="a2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="a2"/>
		<property name="com.jaspersoft.studio.field.label" value="a2"/>
	</field>
	<field name="a3" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a3"/>
		<property name="com.jaspersoft.studio.field.label" value="a3"/>
	</field>
	<field name="a4" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a4"/>
		<property name="com.jaspersoft.studio.field.label" value="a4"/>
	</field>
	<field name="a5" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a5"/>
		<property name="com.jaspersoft.studio.field.label" value="a5"/>
	</field>
	<field name="a6" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a6"/>
		<property name="com.jaspersoft.studio.field.label" value="a6"/>
	</field>
	<field name="a7" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a7"/>
		<property name="com.jaspersoft.studio.field.label" value="a7"/>
	</field>
	<field name="a8" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a8"/>
		<property name="com.jaspersoft.studio.field.label" value="a8"/>
	</field>
	<field name="a9" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a9"/>
		<property name="com.jaspersoft.studio.field.label" value="a9"/>
	</field>
	<variable name="sum_a3" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a3}]]></variableExpression>
	</variable>
	<variable name="sum_a4" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a4}]]></variableExpression>
	</variable>
	<variable name="sum_a5" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a5}]]></variableExpression>
	</variable>
	<variable name="sum_a6" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a6}]]></variableExpression>
	</variable>
	<variable name="sum_a7" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a7}]]></variableExpression>
	</variable>
	<variable name="sum_a8" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a8}]]></variableExpression>
	</variable>
	<variable name="sum_a9" class="java.math.BigDecimal" resetType="Group" resetGroup="nhom" calculation="Sum">
		<variableExpression><![CDATA[$F{a9}]]></variableExpression>
	</variable>
	<group name="nhom">
		<groupExpression><![CDATA[$F{nhom}]]></groupExpression>
		<groupFooter>
			<band height="22">
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="585" y="0" width="87" height="22" uuid="9a2adc22-e9e6-49b6-92cb-25a60d290a52">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="132b6c61-671d-4e78-9b05-3c8a2c2c14fe"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a8}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="237" y="0" width="87" height="22" uuid="47de5a15-c9f7-4156-ab50-ccee3cc75658">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b08dc631-ed92-479e-95d4-1022cdb0ce89"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a4}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="411" y="0" width="87" height="22" uuid="b948441d-6d90-4749-b773-351f92630d2d">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e0bb69a1-9af6-4bba-bb4a-faa43ba3a6d6"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a6}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="150" y="0" width="87" height="22" uuid="320ceee4-e528-45fb-b723-3e3832c77b58">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d4972b30-a9b3-4848-9908-c26d186721fe"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a3}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="324" y="0" width="87" height="22" uuid="d383da0b-4569-4845-bcd6-49580f614231">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="08413aca-e4e7-465b-9fcc-9a8db819e166"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a5}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="498" y="0" width="87" height="22" uuid="ad0380e2-0527-4d4d-9e3c-913043ee3b39">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ea020885-eecc-4fd5-b78f-9ec6a62a9b01"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a7}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="0" y="0" width="150" height="22" uuid="f25a6e02-57a5-4b92-97cb-506b10d7d56d">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="aee75f36-b2cb-4686-a0e9-1b2027b29aea"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Cộng nhóm"]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.###" isBlankWhenNull="true">
					<reportElement x="672" y="0" width="82" height="22" uuid="8dc417bd-1f78-4b73-a229-91c1ef5b740c">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="132b6c61-671d-4e78-9b05-3c8a2c2c14fe"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box leftPadding="2" rightPadding="2">
						<pen lineWidth="0.75"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="11" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{sum_a9}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="103" splitType="Stretch">
			<textField>
				<reportElement x="1" y="62" width="753" height="23" uuid="204043ca-dfff-4bcc-97ed-af1218893f14"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Từ ngày: " + new SimpleDateFormat("dd/MM/yyyy").format($P{StartDate}) + "   Đến ngày: "  + new SimpleDateFormat("dd/MM/yyyy").format($P{EndDate})]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="260" y="80" width="320" height="23" uuid="b03380d1-2c91-4768-8f86-96d7e72d7f59">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<subreportParameter name="StartDate">
					<subreportParameterExpression><![CDATA[$P{StartDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="EndDate">
					<subreportParameterExpression><![CDATA[$P{EndDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Org_ID">
					<subreportParameterExpression><![CDATA[$P{AD_Org_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"ad_org.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="0" y="1" width="200" height="36" uuid="e1179c1d-004d-4365-ad2e-9174d34536db"/>
				<subreportParameter name="StartDate">
					<subreportParameterExpression><![CDATA[$P{StartDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="EndDate">
					<subreportParameterExpression><![CDATA[$P{EndDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Org_ID">
					<subreportParameterExpression><![CDATA[$P{AD_Org_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"CompanyHeader.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="1" y="42" width="753" height="22" uuid="a99198be-439c-4b4a-bca4-b8b85cca1231">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="16" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["THỐNG KÊ BỘ PHẬN SẢN XUẤT VÁN"]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="45">
			<staticText>
				<reportElement x="23" y="0" width="127" height="45" uuid="c2f26b24-9325-4077-95e6-de68b873d9d9">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="aee75f36-b2cb-4686-a0e9-1b2027b29aea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Nội dung]]></text>
			</staticText>
			<staticText>
				<reportElement x="150" y="22" width="87" height="23" uuid="801c4c71-a03b-4403-9b98-b71e1d559337">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d4972b30-a9b3-4848-9908-c26d186721fe"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Nhập SX]]></text>
			</staticText>
			<staticText>
				<reportElement x="237" y="22" width="87" height="23" uuid="3dc8430a-6e42-4484-bb9d-fcd1854a494a">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b08dc631-ed92-479e-95d4-1022cdb0ce89"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Nhập mua]]></text>
			</staticText>
			<staticText>
				<reportElement x="324" y="22" width="87" height="23" uuid="e9d3052b-7d9f-4940-98aa-fc84514416ce">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="08413aca-e4e7-465b-9fcc-9a8db819e166"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Nhập KK]]></text>
			</staticText>
			<staticText>
				<reportElement x="411" y="22" width="87" height="23" uuid="b72a6556-79b8-4f42-adbb-265f6697cb98">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e0bb69a1-9af6-4bba-bb4a-faa43ba3a6d6"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Xuất bán]]></text>
			</staticText>
			<staticText>
				<reportElement x="498" y="22" width="87" height="23" uuid="2350316c-06b6-4248-bbeb-2d1eae98118c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ea020885-eecc-4fd5-b78f-9ec6a62a9b01"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Xuất SX]]></text>
			</staticText>
			<staticText>
				<reportElement x="150" y="0" width="261" height="22" uuid="e4b0c6fa-2bdd-41d4-b2c3-8a27ad57e7f4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="64adf199-f111-4839-9c68-14ed2a43c0ef"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Nhập kho]]></text>
			</staticText>
			<staticText>
				<reportElement x="411" y="0" width="261" height="22" uuid="17d9e5b3-03de-47b1-9557-5421a03b0b23">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="64adf199-f111-4839-9c68-14ed2a43c0ef"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Tổng xuất]]></text>
			</staticText>
			<staticText>
				<reportElement x="585" y="22" width="87" height="23" uuid="09d4bae2-880b-4a38-976e-4da8bf51205a">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ea020885-eecc-4fd5-b78f-9ec6a62a9b01"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Xuất KK]]></text>
			</staticText>
			<staticText>
				<reportElement x="672" y="0" width="82" height="45" uuid="1795d95b-ad82-4d21-893f-52909270138c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e9e3e274-4a45-4066-920a-f89d37fde3cc"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[T.Phẩm / sử dụng 
]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="23" height="45" uuid="0e346880-8d27-4be5-b4a3-3c84005152b8">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="cfe2e45b-929f-405f-ae70-62fd7f6ce0c9"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[STT]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="22" splitType="Stretch">
			<textField>
				<reportElement x="23" y="0" width="127" height="22" uuid="3c222cc6-2284-4443-9849-06a5be787dd4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="aee75f36-b2cb-4686-a0e9-1b2027b29aea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a2}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="150" y="0" width="87" height="22" uuid="485d0511-cc83-44da-8589-0282f1b390fb">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d4972b30-a9b3-4848-9908-c26d186721fe"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a3}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="237" y="0" width="87" height="22" uuid="d7927b60-b251-4ae1-843e-d41b46b8da72">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="b08dc631-ed92-479e-95d4-1022cdb0ce89"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a4}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="324" y="0" width="87" height="22" uuid="4a3a5879-b405-4631-bf1f-2304d3cde8b7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="08413aca-e4e7-465b-9fcc-9a8db819e166"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a5}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="411" y="0" width="87" height="22" uuid="17378689-6bc0-484c-be75-14e431609070">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e0bb69a1-9af6-4bba-bb4a-faa43ba3a6d6"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a6}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="498" y="0" width="87" height="22" uuid="8d155c67-2021-4a06-a83b-c903e6c35f5c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ea020885-eecc-4fd5-b78f-9ec6a62a9b01"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a7}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="585" y="0" width="87" height="22" uuid="e9d25a51-7b17-40d7-beba-46914f546f67">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="132b6c61-671d-4e78-9b05-3c8a2c2c14fe"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a8}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="672" y="0" width="82" height="22" uuid="e0f02ccd-0494-4df0-8f72-b541a6296d2c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e9e3e274-4a45-4066-920a-f89d37fde3cc"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a9}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="23" height="22" uuid="cdaa7a6a-d506-4532-8d18-bd775b3c76b1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="cfe2e45b-929f-405f-ae70-62fd7f6ce0c9"/>
				</reportElement>
				<box>
					<pen lineWidth="0.75"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{stt}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="30">
			<textField evaluationTime="Report">
				<reportElement x="380" y="0" width="380" height="30" uuid="b3599de2-c6d2-4f96-ab80-38c6fd07ee82">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA["/"+$V{PAGE_NUMBER}+" -"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="380" height="30" uuid="6879ff38-e3a9-436a-8576-1df90908a786">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA["- "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="111" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-8" positionType="FixRelativeToBottom" x="54" y="95" width="118" height="16" uuid="d73811f9-1938-4c65-b73f-a2b3556b56d4"/>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Lập biểu]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-8" positionType="FixRelativeToBottom" x="280" y="95" width="148" height="16" uuid="0143adc1-a9d8-4e34-abed-46fbb43d5a9b"/>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Kiểm soát]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-8" positionType="FixRelativeToBottom" x="516" y="94" width="182" height="16" uuid="82230ce2-6315-4441-85cd-3e3971519497"/>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Giám đốc]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField-4" positionType="FixRelativeToBottom" x="520" y="75" width="227" height="19" forecolor="#000000" backcolor="#FFFFFF" uuid="2bd6b544-1bce-481a-94ce-e3c26c1cd765"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["Ngày in: " + new SimpleDateFormat("dd/MM/yyyy hh24:mm").format(new Date())]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="0" y="0" width="753" height="23" uuid="7d4963cc-c6bc-4f28-b818-3cbd271c60b4">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<subreportParameter name="StartDate">
					<subreportParameterExpression><![CDATA[$P{StartDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="EndDate">
					<subreportParameterExpression><![CDATA[$P{EndDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Org_ID">
					<subreportParameterExpression><![CDATA[$P{AD_Org_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"tyle_thuhoivanef.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="0" y="23" width="753" height="23" uuid="40342d6f-7c41-46d7-b9ba-c8affc38ae98">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<subreportParameter name="StartDate">
					<subreportParameterExpression><![CDATA[$P{StartDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="EndDate">
					<subreportParameterExpression><![CDATA[$P{EndDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Org_ID">
					<subreportParameterExpression><![CDATA[$P{AD_Org_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"tyle_sudungvanC.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="0" y="46" width="753" height="23" uuid="98e07ba0-cc69-478d-9c28-080d69d1c703">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<subreportParameter name="StartDate">
					<subreportParameterExpression><![CDATA[$P{StartDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="EndDate">
					<subreportParameterExpression><![CDATA[$P{EndDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_Org_ID">
					<subreportParameterExpression><![CDATA[$P{AD_Org_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"tyle_slvanbocvuotdinhmuc.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
