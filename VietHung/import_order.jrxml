<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="import_order" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="faa67001-6b9f-4f5f-8216-b6ab4d10c3a6">
	<property name="com.jaspersoft.studio.data.sql.tables">
		<![CDATA[aHN2X2x1b25nYmVwICwxMjY2LDM1NTYsZDM1OTFjYmEtMTIxYi00M2QxLWE5MjItNDQ5ODI3NTVi
ODk2O21fcHJvZHVjdCAsODAwLDI3NzAsNjA1Mzk2NTctZDMxNC00NzhkLWE0OTMtMWEwYWFhYjI2
MDkyO2NfYWN0aXZpdHkgLDEwNDUsMTM1OCxkNTllZWE3Yy0zZjZmLTRhNmYtYWFhNy1iOGQ4NmFk
NTI0YTk7Y19wYXltZW50dGVybSAsMTA0NSwyOTUxLDdkZjBhYjEyLTM5ZjAtNDU5ZS04NmM4LTY4
ZDE2MzQ1MTExMDttX3ByaWNlbGlzdCAsMTA0NSw2MzU3LGIzZThkNTUxLWFiMDktNDQ5ZS1hOTRh
LTY5ZDlhMGFhODM5MDttX3dhcmVob3VzZSAsMTA0NSw0MzAyLDI4MzY2MTI0LTI1MDctNDc4OC1h
MmE2LWNlNzlmYTg0MmQ4MDtoc3ZfbmtraGFpdGhhYyAsNDUsMzc3MCwxNWI3YWUyMS1mY2Y2LTQ4
YWUtYTUwNi1kYzVkMmFhNmVkNjk7Y19icGFydG5lciAsNDM2LDE3ODAsZTQ4Y2MxMDctNTVhYi00
MjczLTllMmYtMjc1NmE0MWE2OTM1O2NfcHJvamVjdCAsMTA0NSwzMCxkMGYwYmIwMi1jMDM1LTRj
OWUtOWI0NS0xYWEyNjNmMGY1NWI7Y19kb2N0eXBlICwxMDQ1LDE4MTMsOGI4MzBmMGEtNWZkNC00
YzNmLTkzYjQtNjI2NTFhZGYwNGNlO2NfdGF4ICwxMDQ1LDQ5MTcsNWRjZTg5NGQtNzRhYS00MWM4
LThkMDEtMDY4OTRkOWZjNGExO21fbG90ICw2NDIsMzEzNixmYTJkZTk3Ni04NjAzLTQwYzYtYjJi
OS01ODI2YjllMzgyZTQ7Y19jdXJyZW5jeSAsMTA0NSw1Nzk3LDZmN2E5ZGVhLTZkZGItNGFlNi1h
MDhkLWNkNzI0MjgwZDU1NjtjX2NhbXBhaWduICwxMDQ1LDM3OTUsZjM2NTEzOTItOTRmNi00MGEz
LWI0MDctYmJkOGMyZjgwODc3O2hzdl9ua2toYWl0aGFjbGluZSAsMjI2LDM1ODUsMDkwYTg1OWMt
NmNkMy00MWY0LTgzODMtNWJiOGU2NGJmY2U5Ow==]]>
	</property>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="psql"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="StartDate" class="java.util.Date"/>
	<parameter name="EndDate" class="java.util.Date"/>
	<parameter name=" $P{C_BPartner_ID} " class="java.lang.Integer"/>
	<queryString language="SQL">
		<![CDATA[select * from
(
	select 1 as id, cp.value as c_project_value, ca.value as activtiy_value,cd.name  as doctype_name,cpt.value  as paymentterm_value,
	mp.name as pricelist_name ,cca.value  as campaign_value, mw.value  as warehouse_value,ct.name as tax_name,cc.iso_code as currency 
	from hsv_luongbep lb
	join c_project cp on cp.c_project_id = lb.c_project_id 
	join c_activity ca on ca.c_activity_id = lb.c_activity_id 
	join c_doctype cd on cd.c_doctype_id =lb.c_doctype_id 
	join c_paymentterm cpt on cpt.c_paymentterm_id = lb.c_paymentterm_id 
	join c_campaign cca on cca.c_campaign_id = lb.c_campaign_id 
	join m_warehouse mw on mw.m_warehouse_id =lb.m_warehouse_id 
	join c_tax ct on ct.c_tax_id = lb.c_tax_id 
	join c_currency cc on cc.c_currency_id = lb.c_currency_id 
	join m_pricelist mp on mp.m_pricelist_id =lb.m_pricelist_id 
	where lb.ad_client_id = $P{AD_CLIENT_ID} and lb.hsv_cotluong = 'xuat_ban.gokeo'
) as k
join (
	select 1 as id,cb.name as bpartner_name , hh.value as product_name ,k.dateacct ,ml.name as thuoctinh_name,sum(k.qty)  as qty  
	from m_product hh
	join (
		select nkkt.dateacct,nkkt.c_bpartner_id, 1018883 as product_id,  size_5dn *QtyOther/100 as qty 
		from hsv_nkkhaithac nkkt
		join hsv_nkkhaithacline nkktl on nkkt.hsv_nkkhaithac_id = nkktl.hsv_nkkhaithac_id 
		where nkkt.dateacct >= $P{StartDate} and nkkt.dateacct <= $P{EndDate} and nkkt.ad_client_id = $P{AD_CLIENT_ID}
		union all 
		select nkkt.dateacct,nkkt.c_bpartner_id,1018882 as product_id, size_5up *QtyOther/100 as qty 
		from hsv_nkkhaithac nkkt
		join hsv_nkkhaithacline nkktl on nkkt.hsv_nkkhaithac_id = nkktl.hsv_nkkhaithac_id 
		where nkkt.dateacct >= $P{StartDate} and nkkt.dateacct <= $P{EndDate} and nkkt.ad_client_id = $P{AD_CLIENT_ID}
		union all 
		select nkkt.dateacct,nkkt.c_bpartner_id,1018881 as product_id, size_9dn *QtyOther/100+size_loai *QtyOther/100 as qty
		from hsv_nkkhaithac nkkt
		join hsv_nkkhaithacline nkktl on nkkt.hsv_nkkhaithac_id = nkktl.hsv_nkkhaithac_id 
		where nkkt.dateacct >= $P{StartDate} and nkkt.dateacct <= $P{EndDate} and nkkt.ad_client_id = $P{AD_CLIENT_ID}
		union all 
		select nkkt.dateacct,nkkt.c_bpartner_id,1018880 as product_id, size_915 *QtyOther/100+ size_15up *QtyOther/100 as qty 
		from hsv_nkkhaithac nkkt
		join hsv_nkkhaithacline nkktl on nkkt.hsv_nkkhaithac_id = nkktl.hsv_nkkhaithac_id 
		where nkkt.dateacct >= $P{StartDate} and nkkt.dateacct <= $P{EndDate} and nkkt.ad_client_id = $P{AD_CLIENT_ID}
	) as k on k.product_id = hh.m_product_id
	join m_lot ml on ml.m_product_id  = hh.m_product_id 
	join c_bpartner cb on cb.c_bpartner_id = k.c_bpartner_id 
	where k.c_bpartner_id = $P{C_BPartner_ID} 
	group by  hh.value,k.dateacct ,ml.name,cb.name
) as t on k.id= k.id
]]>
	</queryString>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="125" splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
