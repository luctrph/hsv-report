<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Bang tinh thue TNCN" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="f85bc8f8-4cf6-4363-a0eb-0db24f4d846f">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="HSV"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="C_Period_ID" class="java.lang.Integer"/>
	<parameter name="Filter" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["dev/"]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select row_number() over(order by namenv) as stt,* from 
(
select  namenv, round(tongluong) as tongluong ,round(tnct,0) as tnct,hsv_gtgcbt,songuoi_pt,hsv_gtgcnpt,trbhxh,round(tongcong,0) as tongcong,round(case when tn_tinhthue <0 then 0 else tn_tinhthue end,0) as tn_tinhthue, round(case when tn_tinhthue < 0 then 0 else 
case when tn_tinhthue < 5000000 then tn_tinhthue * 5/100  else
case when tn_tinhthue >5000000 and tn_tinhthue <= 10000000 then -250000+tn_tinhthue * 10/100 else 
case when tn_tinhthue >10000000 and tn_tinhthue <= 18000000 then -750000+tn_tinhthue * 15/100 else 
case when tn_tinhthue >18000000 and tn_tinhthue <= 32000000 then -1650000+tn_tinhthue * 20/100 else
case when tn_tinhthue >32000000 and tn_tinhthue <= 52000000 then -3250000+tn_tinhthue * 25/100 else 
case when tn_tinhthue >52000000 and tn_tinhthue <= 80000000 then -5850000+tn_tinhthue * 30/100 else  
-9850000+tn_tinhthue * 35/100 end end end end end end end ,0) as a1
from(
select namenv, tongluong,tnct,hsv_gtgcbt,songuoi_pt,hsv_gtgcnpt,trbhxh, hsv_gtgcbt+hsv_gtgcnpt+trbhxh as tongcong, tnct -(hsv_gtgcbt+hsv_gtgcnpt+trbhxh) as tn_tinhthue
from(
select namenv,  tongluong,tongluong as tnct,z.hsv_gtgcbt  as hsv_gtgcbt,case when k.hsv_nhanvien_id =t.hsv_nhanvien_id  then t.songuoi_pt else 0 end songuoi_pt,
case when k.hsv_nhanvien_id =t.hsv_nhanvien_id  then songuoi_pt* t.hsv_gtgcnpt else 0  end as hsv_gtgcnpt,trbhxh
from (
	select 1 as id,namenv,hsv_nhanvien_id,luongbhxh,hesoluong,ngaycong, luongtg,luongsp,luongtg+luongsp as tongluong,cpbhxh,trbhxh,ckluong
	from (
	select namenv,id_nhanvien as hsv_nhanvien_id, mst, bhxh,luongbhxh,case when s_hsv_hesoluong is not null then s_hsv_hesoluong else   hesoluong end as hesoluong ,ngaycong,case when s_hsv_hesoluong is not null then s_hsv_hesoluong else   hesoluong end*quydoi as quydoi, case when (hsv_maxcong <>0 or hsv_maxcong is not null) and hsv_maxcong <>0 then (hsv_luongcd/hsv_maxcong) * ngaycong else 0 end + hsv_phucap as luongtg, case when s_hsv_hesoluong is not null then s_hsv_hesoluong else   hesoluong end *quydoi *case when h.tongcong <>0 then  g.tongluong/h.tongcong else 0 end as luongsp,cpbhxh,trbhxh,(ckluong+ckluong1) as ckluong,hsv_luongcd+ hsv_phucap+case when s_hsv_hesoluong is not null then s_hsv_hesoluong else hesoluong end *quydoi*case when h.tongcong <>0 then  g.tongluong/h.tongcong else 0 end - (ckluong+ckluong1)- trbhxh as conlai
	from (
		select t.hsv_nhanvien_id as id_nhanvien,c_jobcategory_id,t.hsv_toluong_id,coalesce(s.hsv_maxcong,0) as hsv_maxcong ,s.hsv_hesoluong as s_hsv_hesoluong,coalesce(s.hsv_luongcd,0) as hsv_luongcd ,coalesce(s.hsv_phucap,0) as hsv_phucap,t.hsv_nhanvien_id,namenv, mst,bhxh,luongbhxh, hesoluong, case when   hsv_ngaycong >zz.hsv_congmaxthg then zz.hsv_congmaxthg else hsv_ngaycong end as ngaycong,case when hsv_ngaycong >zz.hsv_congmaxthg then zz.hsv_congmaxthg else hsv_ngaycong end as quydoi,trbhxh , cpbhxh,hsv_TLBHXH,hsv_LuongBHXH,ckluong1, ckluong	
		from(			
		select c.c_period_id, c.c_jobcategory_id,c.hsv_toluong_id,c.hsv_nhanvien_id,nv.name as namenv, nv.taxid as mst,nv.bhxhid as bhxh,c.hsv_LuongBHXH as luongbhxh,case when (congsua is null or congsua=0) then hsv_ngaycong else congsua end as hsv_ngaycong,case when hesoluong =0 or hesoluong is null then 1 else hesoluong end as hesoluong,coalesce(c.hsv_LuongBHXH,0)*(f.hsv_TLBHXH-f.hsv_TLHTBHXH)/100 as trbhxh ,coalesce(c.hsv_LuongBHXH,0)*f.hsv_TLHTBHXH/100  as cpbhxh,f.hsv_TLBHXH,c.hsv_LuongBHXH,c.ckluong1,coalesce(e.ckluong,0) as ckluong
		from(
			select  c_jobcategory_id,hsv_toluong_id, t.hsv_nhanvien_id,hsv_luongbhxh,t.hsv_ngaycong,z.congsua, hesoluong,ckluong1, c_period_id
			from(
			
				
			select b.c_jobcategory_id,b.hsv_toluong_id,b.hsv_nhanvien_id,  a.hsv_luongbhxh  as hsv_luongbhxh, b.hsv_ngaycong,
				b.hsv_hesoluong  as hesoluong, coalesce(b.hsv_ckluong,0) as ckluong1,b.c_period_id
			from (							
					select  nv.hsv_nhanvien_id, MAX(nv.hsv_ngaycong) as ngaycongk,bhxh.hsv_luongbhxh,bhxh.hsv_htbhxh 						
					from hsv_nkluong nk
					join hsv_nkluongnv nv on nk.hsv_nkluong_id = nv.hsv_nkluong_id 
					join hsv_luongbhxhline bhxh on bhxh.hsv_nhanvien_id = nv.hsv_nhanvien_id and bhxh.hsv_luongbhxh >0 
					where  nk.ad_client_id = $P{AD_CLIENT_ID} and nk.c_period_id =  $P{C_Period_ID} 
						and  (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= bhxh.dateto	                                                                                                                                                                                                                                                                                                                          
						and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= bhxh.datefrom                                                                                                                                                                                                                                                                                                                         
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= bhxh.datefrom                                                                                                                                                                                                                                                                                                                      
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= bhxh.dateto					
					group by nv.hsv_nhanvien_id,bhxh.hsv_luongbhxh,bhxh.hsv_htbhxh											
				) as a
				 join (
					select tl.c_jobcategory_id,nkl.c_period_id, hsv_nkluongnv_id,nkl.hsv_toluong_id,nklnv.hsv_nhanvien_id, hsv_ngaycong,nklnv.hsv_hesoluong, nklnv.hsv_ckluong
					from hsv_NkluongNV nklnv
					join hsv_nkluong nkl on nkl.hsv_nkluong_id = nklnv.hsv_nkluong_id 
					join hsv_toluong tl on tl.hsv_toluong_id =nkl.hsv_toluong_id 
					where  nkl.ad_client_id = $P{AD_CLIENT_ID} and nkl.c_period_id =  $P{C_Period_ID} and nklnv.isactive = 'Y' 								
				) as b on a.hsv_nhanvien_id =b.hsv_nhanvien_id and a.ngaycongk =  b.hsv_ngaycong 																
		
				union all 
				
				
				select  tl.c_jobcategory_id,tl.hsv_toluong_id, lnv.hsv_nhanvien_id, 0 as hsv_luongbhxh  ,lnv.hsv_ngaycong,
				 lnv.hsv_hesoluong  as hesoluong,
				coalesce(lnv.hsv_ckluong,0) as ckluong1,  nkl.c_period_id
				from hsv_nkluong nkl
				join hsv_nkluongnv lnv on nkl.hsv_nkluong_id = lnv.hsv_nkluong_id 
				join hsv_toluong tl on nkl.hsv_toluong_id = tl.hsv_toluong_id 
				join hsv_nhanvien nv on nv.hsv_nhanvien_id = lnv.hsv_nhanvien_id and nv.hsv_qtluong ='Y'
				where nkl.c_period_id = $P{C_Period_ID} and lnv.isactive = 'Y' and nkl.isactive = 'Y' and nkl.ad_client_id =$P{AD_CLIENT_ID}	
			
				union all 
				select  tl.c_jobcategory_id,tl.hsv_toluong_id, gbhxh.hsv_nhanvien_id,gbhxh.hsv_luongbhxh,gbhxh.hsv_ngaycong,  
				coalesce(gbhxh.hsv_hesoluong,1) as hesoluong ,0 as ckluong1,$P{C_Period_ID} as c_period_id
				from hsv_guibhxh gbhxh 
				join hsv_toluong tl on gbhxh.hsv_toluong_id = tl.hsv_toluong_id
				where 		(select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= gbhxh.dateto	                                                                                                                                                                                                                                                                                                                          
							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=gbhxh.datefrom                                                                                                                                                                                                                                                                                                                         
							and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= gbhxh.datefrom                                                                                                                                                                                                                                                                                                                      
							and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=gbhxh.dateto                                                                                                                                                                                                                                                                                                                         
							and gbhxh.ad_client_id =$P{AD_CLIENT_ID}  and gbhxh.isactive = 'Y' 
					
							
			) as t  left join (
						select hn.hsv_nhanvien_id, hsv_ngaycong as congsua 
						from hsv_suangaycong sua
						join hsv_nkngaycongline hn on sua.hsv_suangaycong_id = hn.hsv_suangaycong_id 	
						where sua.c_period_id =$P{C_Period_ID}
						and sua.ad_client_id =$P{AD_CLIENT_ID}  and hn.isactive = 'Y' 
			
			) as z on t.hsv_nhanvien_id=z.hsv_nhanvien_id	
		) as c join ( ---chedo---
			select   cd.hsv_chedo_id,tl.hsv_toluong_id, tl.c_jobcategory_id ,cdl.hsv_TLBHXH,cdl.hsv_TLHTBHXH 
			from hsv_chedo cd 		
			join hsv_cd_luong cdl on cd.hsv_chedo_id = cdl.hsv_chedo_id and cdl.isactive = 'Y'
			join hsv_toluong tl on tl.hsv_chedo_id = cd.hsv_chedo_id and tl.isactive = 'Y'
	
			where (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= cdl.dateto	                                                                                                                                                                                                                                                                                                                              
			and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=cdl.datefrom                                                                                                                                                                                                                                                                                                                            
			and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= cdl.datefrom                                                                                                                                                                                                                                                                                                                         
			and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=cdl.dateto                                                                                                                                                                                                                             		
			and cd.isactive = 'Y' and cd.ad_client_id =$P{AD_CLIENT_ID}
		) as f on f.hsv_toluong_id =c.hsv_toluong_id
		left join (
			--luongck_nv---
			select tl.c_jobcategory_id,ck.hsv_toluong_id,ck.hsv_nhanvien_id, coalesce(ck.hsv_ckluong) as ckluong
			from hsv_chuyenkhoan ck
			join hsv_toluong tl on ck.hsv_toluong_id  = tl.hsv_toluong_id 
			where 			(select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= ck.dateto	                                                                                                                                                                                                                                                                                                                          
						and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=ck.datefrom                                                                                                                                                                                                                                                                                                                         
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= ck.datefrom                                                                                                                                                                                                                                                                                                                      
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=ck.dateto                                                                                                                                                                                                                                                                                                                         
						and ck.ad_client_id =$P{AD_CLIENT_ID}  and ck.isactive = 'Y'
		
		) as e on e.c_jobcategory_id = c.c_jobcategory_id and e.hsv_nhanvien_id =c.hsv_nhanvien_id and e.hsv_toluong_id =c.hsv_toluong_id
		join hsv_nhanvien nv on nv.hsv_nhanvien_id = c.hsv_nhanvien_id
		
	where  hsv_qtluong='Y' or c.hsv_luongbhxh>0
	) as t
	---ngay max trong thang -----
	left join (
		select c_period_id, case when hsv_congmaxthg is null or hsv_congmaxthg = 0 then 26 else hsv_congmaxthg end hsv_congmaxthg
		from hsv_sanluong where c_period_id  =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}
	) as zz on t.c_period_id = zz.c_period_id
	---end ngay max trong thang ---
	left join  (
		select hsv_nhanvien_id, hsv_luongcd, ad_orgtype_id,hsv_maxcong,hsv_toluong_id, hsv_phucap, ck.hsv_hesoluong 
		from hsv_luongbctc ck
		where (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= ck.dateto	                                                                                                                                                                                                                                                                                                                          
						and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=ck.datefrom                                                                                                                                                                                                                                                                                                                         
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= ck.datefrom                                                                                                                                                                                                                                                                                                                      
						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=ck.dateto                                                                                                                                                                                                                                                                                                                         
						and ck.ad_client_id =$P{AD_CLIENT_ID}  and ck.isactive = 'Y'
	) as s on t.hsv_nhanvien_id=s.hsv_nhanvien_id 
	
	) as t left join (
		select a.c_jobcategory_id, a.name, sum(a.hsv_dongialuong*b.amount) as tongluong
		from 
		(
			select cj.name, dgl.hsv_luongsp_id,dgl.c_jobcategory_id, dgl.hsv_dongialuong 
			from hsv_dgluong dg
			join hsv_dgluongLine dgl on dg.hsv_dgluong_id =dgl.hsv_dgluong_id and dg.hsv_loaidongia_ID in (1000039)
			join c_jobcategory cj on cj.c_jobcategory_id = dgl.c_jobcategory_id
			where dg.ad_client_id =$P{AD_CLIENT_ID} 
			and (select startdate from  c_period cp where cp.c_period_id = $P{C_Period_ID}  and cp.ad_client_id =$P{AD_CLIENT_ID}) <=dg.enddate 
			and (select enddate from  c_period cp where cp.c_period_id = $P{C_Period_ID}  and cp.ad_client_id =$P{AD_CLIENT_ID}) <=dg.enddate 
		) as a join 
		(
			select sll.hsv_luongsp_id, sll.amount ,c_period_id
			from hsv_sanluong sl 
			join hsv_sanluongline sll on sl.hsv_sanluong_id  = sll.hsv_sanluong_id  
			where sl.c_period_id =  $P{C_Period_ID}  
		) as b on a.hsv_luongsp_id =  b.hsv_luongsp_id
		group by a.name,a.c_jobcategory_id 
	) as g on t.c_jobcategory_id =g.c_jobcategory_id
	
	left join (
	
		select c.c_jobcategory_id,sum(case when hsv_ngaycong>zz.hsv_congmaxthg then zz.hsv_congmaxthg else hsv_ngaycong end * case when s.hsv_hesoluong is not null then s.hsv_hesoluong else 
				case when c.hsv_hesoluong =0 or c.hsv_hesoluong is null  then 1 else c.hsv_hesoluong end end) as tongcong
				
		from (
			select  c_jobcategory_id,c_period_id,hsv_toluong_id,t.hsv_nhanvien_id,case when (z.hsv_ngaycong is null or z.hsv_ngaycong =0) then t.hsv_ngaycong else z.hsv_ngaycong end as hsv_ngaycong,t.hsv_hesoluong
			from(
					select  tl.c_jobcategory_id,tl.hsv_toluong_id, lnv.hsv_nhanvien_id ,lnv.hsv_ngaycong, hsv_hesoluong ,nkl.c_period_id 
					from hsv_nkluong nkl
					join hsv_nkluongnv lnv on nkl.hsv_nkluong_id = lnv.hsv_nkluong_id 
					join hsv_toluong tl on nkl.hsv_toluong_id = tl.hsv_toluong_id 
					join hsv_luongbhxhline bhxh on bhxh.hsv_nhanvien_id = lnv.hsv_nhanvien_id 
								and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= bhxh.dateto	                                                                                                                                                                                                                                                                                                                          
								and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=bhxh.datefrom                                                                                                                                                                                                                                                                                                                         
		 						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= bhxh.datefrom                                                                                                                                                                                                                                                                                                                      
								and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=bhxh.dateto  
								and bhxh.isactive ='Y' and bhxh.hsv_luongbhxh >0 
					where nkl.c_period_id = $P{C_Period_ID} and lnv.isactive = 'Y' and nkl.isactive = 'Y' and nkl.ad_client_id =$P{AD_CLIENT_ID}	
					
					union all 
							
					
					select  tl.c_jobcategory_id,tl.hsv_toluong_id,lnv.hsv_nhanvien_id ,lnv.hsv_ngaycong,lnv.hsv_hesoluong as hesoluong,nkl.c_period_id
					from hsv_nkluong nkl
					join hsv_nkluongnv lnv on nkl.hsv_nkluong_id = lnv.hsv_nkluong_id 
					join hsv_toluong tl on nkl.hsv_toluong_id = tl.hsv_toluong_id 
					join hsv_nhanvien nv on nv.hsv_nhanvien_id = lnv.hsv_nhanvien_id and nv.hsv_qtluong ='Y'
					where nkl.c_period_id = $P{C_Period_ID} and lnv.isactive = 'Y' and nkl.isactive = 'Y' and nkl.ad_client_id =$P{AD_CLIENT_ID}	
				
			
					
					union all 
					
					select  tl.c_jobcategory_id,tl.hsv_toluong_id, gbhxh.hsv_nhanvien_id,gbhxh.hsv_ngaycong, gbhxh.hsv_hesoluong, $P{C_Period_ID} as c_period_id
					from hsv_guibhxh gbhxh 
					join hsv_toluong tl on gbhxh.hsv_toluong_id = tl.hsv_toluong_id
					where 		(select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= gbhxh.dateto	                                                                                                                                                                                                                                                                                                                          
								and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=gbhxh.datefrom                                                                                                                                                                                                                                                                                                                         
								and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= gbhxh.datefrom                                                                                                                                                                                                                                                                                                                      
								and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=gbhxh.dateto                                                                                                                                                                                                                                                                                                                         
								and gbhxh.ad_client_id =$P{AD_CLIENT_ID}  and gbhxh.isactive = 'Y' 
								
				) as t  left join (
						select hn.hsv_nhanvien_id, hsv_ngaycong  
						from hsv_suangaycong sua
						join hsv_nkngaycongline hn on sua.hsv_suangaycong_id = hn.hsv_suangaycong_id 	
						where sua.c_period_id =$P{C_Period_ID}
						and sua.ad_client_id =$P{AD_CLIENT_ID}  and hn.isactive = 'Y' 
				) as z on t.hsv_nhanvien_id=z.hsv_nhanvien_id	
				 
	
		) as c 
		---ngay max trong thang -----
		left join (
			select c_period_id, case when hsv_congmaxthg is null or hsv_congmaxthg = 0 then 26 else hsv_congmaxthg end hsv_congmaxthg
			from hsv_sanluong where c_period_id  =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}
		) as zz on c.c_period_id = zz.c_period_id
	---end ngay max trong thang ---
		left join  (
						select hsv_nhanvien_id, ck.hsv_hesoluong 
						from hsv_luongbctc ck
						where (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= ck.dateto	                                                                                                                                                                                                                                                                                                                          
								and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=ck.datefrom                                                                                                                                                                                                                                                                                                                         
								and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= ck.datefrom                                                                                                                                                                                                                                                                                                                      
								and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=ck.dateto                                                                                                                                                                                                                                                                                                                         
								and ck.ad_client_id =$P{AD_CLIENT_ID}  and ck.isactive = 'Y'
			) as s on c.hsv_nhanvien_id=s.hsv_nhanvien_id 
		group by c_jobcategory_id
	) as h on g.c_jobcategory_id =h.c_jobcategory_id
	
	) as t
	 where luongsp >0
	 
	 )as k left JOIN   (
 
 						select 1 as id, hsv_nhanvien_id,coalesce(songuoi_pt,0) as songuoi_pt , coalesce(hsv_gtgcbt,0) as hsv_gtgcbt , coalesce(hsv_GTGCNPT,0) as hsv_GTGCNPT
 						from(					
					 		select 1 as id, coalesce(hsv_gtgcbt,0) as hsv_gtgcbt, coalesce(hsv_GTGCNPT,0) as hsv_GTGCNPT 
					 		from hsv_CDTTNCN cdtn 
					 		where ad_client_id = $P{AD_CLIENT_ID}
 							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= cdtn.dateto	                                                                                                                                                                                                                                                                                                                          
							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=cdtn.datefrom                                                                                                                                                                                                                                                                                                                         
	 						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= cdtn.datefrom                                                                                                                                                                                                                                                                                                                      
							and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=cdtn.dateto  
						) as k join (														
							select 1 as id, hsv_nhanvien_id,count(hsv_nknguoipt_id) as songuoi_pt 
							from  hsv_nknguoipt npt
							where ad_client_id = $P{AD_CLIENT_ID} and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= npt.dateto	                                                                                                                                                                                                                                                                                                                          
							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=npt.datefrom                                                                                                                                                                                                                                                                                                                         
	 						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= npt.datefrom                                                                                                                                                                                                                                                                                                                      
							and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=npt.dateto  				
							group by hsv_nhanvien_id 
		 				) as t on k.id = t.id
		 ) as t on k.hsv_nhanvien_id= t.hsv_nhanvien_id
		 left join (
		 					select 1 as id, coalesce(hsv_gtgcbt,0) as hsv_gtgcbt, coalesce(hsv_GTGCNPT,0) as hsv_GTGCNPT 
					 		from hsv_CDTTNCN cdtn 
					 		where ad_client_id = $P{AD_CLIENT_ID}
 							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <= cdtn.dateto	                                                                                                                                                                                                                                                                                                                          
							and (select enddate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID})	>=cdtn.datefrom                                                                                                                                                                                                                                                                                                                         
	 						and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) >= cdtn.datefrom                                                                                                                                                                                                                                                                                                                      
							and (select startdate from c_period where c_period_id =  $P{C_Period_ID} and ad_client_id = $P{AD_CLIENT_ID}) <=cdtn.dateto  
		
		 ) as z on k.id =z.id
		 ) as k
) as t
) as k
where case when $P{Filter} = 'Y' then  tn_tinhthue > 0 else tongluong > 0 end]]>
	</queryString>
	<field name="stt" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="stt"/>
		<property name="com.jaspersoft.studio.field.label" value="stt"/>
	</field>
	<field name="namenv" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="namenv"/>
		<property name="com.jaspersoft.studio.field.label" value="namenv"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="hsv_nhanvien"/>
	</field>
	<field name="tongluong" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="tongluong"/>
		<property name="com.jaspersoft.studio.field.label" value="tongluong"/>
	</field>
	<field name="tnct" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="tnct"/>
		<property name="com.jaspersoft.studio.field.label" value="tnct"/>
	</field>
	<field name="hsv_gtgcbt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="hsv_gtgcbt"/>
		<property name="com.jaspersoft.studio.field.label" value="hsv_gtgcbt"/>
	</field>
	<field name="songuoi_pt" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="songuoi_pt"/>
		<property name="com.jaspersoft.studio.field.label" value="songuoi_pt"/>
	</field>
	<field name="hsv_gtgcnpt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="hsv_gtgcnpt"/>
		<property name="com.jaspersoft.studio.field.label" value="hsv_gtgcnpt"/>
	</field>
	<field name="trbhxh" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="trbhxh"/>
		<property name="com.jaspersoft.studio.field.label" value="trbhxh"/>
	</field>
	<field name="tongcong" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="tongcong"/>
		<property name="com.jaspersoft.studio.field.label" value="tongcong"/>
	</field>
	<field name="tn_tinhthue" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="tn_tinhthue"/>
		<property name="com.jaspersoft.studio.field.label" value="tn_tinhthue"/>
	</field>
	<field name="a1" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="a1"/>
		<property name="com.jaspersoft.studio.field.label" value="a1"/>
	</field>
	<variable name="sum_tongluong" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{tongluong}]]></variableExpression>
	</variable>
	<variable name="sum_tnct" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{tnct}]]></variableExpression>
	</variable>
	<variable name="sum_gtgcbt" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{hsv_gtgcbt}]]></variableExpression>
	</variable>
	<variable name="sum_nguoipt" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{songuoi_pt}]]></variableExpression>
	</variable>
	<variable name="sum_gtgcpt" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{hsv_gtgcnpt}]]></variableExpression>
	</variable>
	<variable name="sum_trbhxh" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{trbhxh}]]></variableExpression>
	</variable>
	<variable name="sum_tongcong" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{tongcong}]]></variableExpression>
	</variable>
	<variable name="sum_tntinhthue" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{tn_tinhthue}]]></variableExpression>
	</variable>
	<variable name="sum_a1" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{a1}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="95" splitType="Stretch">
			<subreport isUsingCache="true">
				<reportElement key="subreport-12" x="-7" y="0" width="813" height="35" uuid="20f31471-7f71-4f2b-aa13-feca72bac8e1"/>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="C_Period_ID">
					<subreportParameterExpression><![CDATA[$P{C_Period_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"CompanyHeader.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="-7" y="35" width="813" height="33" uuid="5db751e5-11da-4a1a-808b-26e517e8c5c1"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[BẢNG TÍNH THUẾ THU NHẬP CÁ NHÂN]]></text>
			</staticText>
			<subreport isUsingCache="true">
				<reportElement key="subreport-12" x="0" y="68" width="808" height="22" uuid="960e4015-0221-4edc-927e-7703bcae5d28"/>
				<subreportParameter name="AD_CLIENT_ID">
					<subreportParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="C_Period_ID">
					<subreportParameterExpression><![CDATA[$P{C_Period_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}+"Sub_ky_bc.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<columnHeader>
		<band height="30" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="30" height="30" uuid="46821d16-8632-4024-9247-3c6d6b098c81">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="56310329-101b-4ec1-b6e6-b405a234745e"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[STT]]></text>
			</staticText>
			<staticText>
				<reportElement x="30" y="0" width="130" height="30" uuid="ff405792-c722-48d1-9c7e-324c642fb877">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="052a3611-4d26-40b7-9b6e-241850651dea"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Tên nhân viên]]></text>
			</staticText>
			<staticText>
				<reportElement x="160" y="0" width="72" height="30" uuid="2a5cdf92-ff20-48e9-9fc7-5e3d0040253d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f77bf246-9b04-4f11-bfab-4d27b8aa6d7e"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Tổng lương]]></text>
			</staticText>
			<staticText>
				<reportElement x="232" y="0" width="72" height="30" uuid="0895a496-d1e1-4fbd-8250-80331b3c1e68">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="45a246d9-2be0-4d5a-8d19-c8243d9f1cf4"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Thu nhập chịu thuế]]></text>
			</staticText>
			<staticText>
				<reportElement x="304" y="0" width="72" height="30" uuid="b0073b80-8688-414c-b58c-b0970c8d348e">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="747f12c0-37fb-433d-82b0-b848add061e2"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[GTGC bản thân]]></text>
			</staticText>
			<staticText>
				<reportElement x="376" y="0" width="72" height="30" uuid="2186d7ac-ba8f-4a94-af76-285b717d9ae0">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f08ac282-aa84-46e6-99dc-5f84df74305f"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Số người PT]]></text>
			</staticText>
			<staticText>
				<reportElement x="448" y="0" width="72" height="30" uuid="ef3f7f80-8a0e-401b-8300-0e558002f69e">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="401af54c-4aa6-4292-a566-a136cdbac64b"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Số tiền GTGC NPT]]></text>
			</staticText>
			<staticText>
				<reportElement x="520" y="0" width="72" height="30" uuid="23eef2e3-0213-40dd-90a3-1286fb30f3ee">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f72f5b54-0964-449d-8a9d-a4fde2fd4530"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Nộp BH bắt buộc]]></text>
			</staticText>
			<staticText>
				<reportElement x="592" y="0" width="72" height="30" uuid="6145bcb6-a921-4a16-9ae7-3460e278600f">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="23c6c57b-011f-40ab-ae02-9fa9fab9d0ea"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Tổng cộng giảm trừ]]></text>
			</staticText>
			<staticText>
				<reportElement x="664" y="0" width="72" height="30" uuid="3872cac7-203a-4fd9-901d-f739b1a080a8">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c7053c41-8ca9-469c-8b79-88957e18d2fa"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Thu nhập tính thuế]]></text>
			</staticText>
			<staticText>
				<reportElement x="736" y="0" width="72" height="30" uuid="6ab7245e-76d3-46be-84c8-51157ca0ff4d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="85e5bbb7-301b-41e3-ba8c-327013c10ba7"/>
				</reportElement>
				<box>
					<pen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Thuế TNCN phải trừ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="24" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="30" height="24" uuid="dadc8476-efd1-42b6-a107-b0aa7a239bda">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="56310329-101b-4ec1-b6e6-b405a234745e"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{stt}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="30" y="0" width="130" height="24" uuid="18d97cf6-f084-43e3-ac60-56fb0d83e260">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="052a3611-4d26-40b7-9b6e-241850651dea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{namenv}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="160" y="0" width="72" height="24" uuid="7905b02b-bd39-417d-b8f9-6fc5da586bd8">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f77bf246-9b04-4f11-bfab-4d27b8aa6d7e"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tongluong}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="232" y="0" width="72" height="24" uuid="5df3a9ba-311f-4ecf-a617-b3be0df21029">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="45a246d9-2be0-4d5a-8d19-c8243d9f1cf4"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tnct}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="304" y="0" width="72" height="24" uuid="8baec7f1-1294-48e4-b033-bc47d0450f93">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="747f12c0-37fb-433d-82b0-b848add061e2"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{hsv_gtgcbt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="376" y="0" width="72" height="24" uuid="42196baf-53e2-4f67-9580-3c3d8c7a0550">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f08ac282-aa84-46e6-99dc-5f84df74305f"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{songuoi_pt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="448" y="0" width="72" height="24" uuid="ec108a33-6f0b-463b-97cc-8837b197a978">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="401af54c-4aa6-4292-a566-a136cdbac64b"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{hsv_gtgcnpt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="520" y="0" width="72" height="24" uuid="67f38240-661c-4544-80dd-dc5a813e26d7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f72f5b54-0964-449d-8a9d-a4fde2fd4530"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{trbhxh}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="592" y="0" width="72" height="24" uuid="d0fb4d5c-0024-4cb2-af35-b553bac6a096">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="23c6c57b-011f-40ab-ae02-9fa9fab9d0ea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tongcong}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="664" y="0" width="72" height="24" uuid="8746b5a2-c2ac-4ad9-93ad-065d9f376578">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c7053c41-8ca9-469c-8b79-88957e18d2fa"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tn_tinhthue}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="736" y="0" width="72" height="24" uuid="b94425eb-f630-49f0-b346-fac18244528b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="85e5bbb7-301b-41e3-ba8c-327013c10ba7"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{a1}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="24" splitType="Stretch">
			<textField pattern="#,##0">
				<reportElement x="232" y="0" width="72" height="24" uuid="484092e0-e098-4c06-974b-dd31f26beab1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="45a246d9-2be0-4d5a-8d19-c8243d9f1cf4"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_tnct}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="592" y="0" width="72" height="24" uuid="79a09056-1d40-46b9-962a-cb40b1ba1445">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="23c6c57b-011f-40ab-ae02-9fa9fab9d0ea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_tongcong}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="160" height="24" uuid="eb60b211-34a9-4f34-bca4-064a7fb61fa7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="052a3611-4d26-40b7-9b6e-241850651dea"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Tổng cộng"]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="448" y="0" width="72" height="24" uuid="5b35aa1c-fbdc-4f3b-8955-875645ae85b1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="401af54c-4aa6-4292-a566-a136cdbac64b"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_gtgcpt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="160" y="0" width="72" height="24" uuid="c0d60856-0756-49f1-8717-c718ccd30b3f">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f77bf246-9b04-4f11-bfab-4d27b8aa6d7e"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_tongluong}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="520" y="0" width="72" height="24" uuid="42f579d3-93c3-46fa-b4aa-a113b1e85e5b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f72f5b54-0964-449d-8a9d-a4fde2fd4530"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_trbhxh}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="304" y="0" width="72" height="24" uuid="ffde0d18-2adc-4de8-8a0d-3d4600c84ce3">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="747f12c0-37fb-433d-82b0-b848add061e2"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_gtgcbt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="664" y="0" width="72" height="24" uuid="cc220a76-f3e7-4374-9592-841cb2df3ed6">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c7053c41-8ca9-469c-8b79-88957e18d2fa"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_tntinhthue}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="736" y="0" width="72" height="24" uuid="9df482fb-d3ee-4d0a-8c3d-2bff16ad56f4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="85e5bbb7-301b-41e3-ba8c-327013c10ba7"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_a1}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement x="376" y="0" width="72" height="24" uuid="492afd23-2d5d-4306-a515-b8bb9cb052bd">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f08ac282-aa84-46e6-99dc-5f84df74305f"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_nguoipt}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
