<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.5.1.final using JasperReports Library version 6.5.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Rpt_detail_HDMua" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="4023df51-1b73-46d9-adf6-650e3c9f2034">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="NEW_DATAADAPTER.xml"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="net.sf.jasperreports.export.pdf.encrypted" value="true"/>
	<property name="net.sf.jasperreports.export.pdf.128.bit.key" value="Blackbear,./1@"/>
	<property name="net.sf.jasperreports.export.character.encoding" value="UTF-8"/>
	<property name="net.sf.jasperreports.default.pdf.embedded" value="true"/>
	<property name="net.sf.jasperreports.default.pdf.font.name" value="Arial.ttf"/>
	<property name="net.sf.jasperreports.awt.ignore.missing.font" value="false"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="net.sf.jasperreports.default.pdf.encoding" value="Cp1258"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
	<parameter name="RECORD_ID" class="java.lang.Integer"/>
	<parameter name="RESOURCE_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["dev/"]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select m_attributesetinstance.description as t,m_product.value as mh,m_product.name as th,c_uom.name as dvt,c_invoiceline.qtyentered as sl,c_invoiceline.priceentered as gia
			,c_invoiceline.qtyentered*c_invoiceline.priceentered as tt,tkn.value as tkn,tkc.value as tkc
			
 from c_invoiceline
left join  m_attributesetinstance on c_invoiceline.m_attributesetinstance_id=m_attributesetinstance.m_attributesetinstance_id
inner join c_invoice on c_invoiceline.c_invoice_id=c_invoice.c_invoice_id
join c_uom on c_invoiceline.c_uom_id=c_uom.c_uom_id
join m_product on c_invoiceline.m_product_id=m_product.m_product_id

left join  (select distinct tk.value,a.RECORD_ID from fact_acct a  
					join c_elementvalue tk on tk.c_elementvalue_id=a.account_id
					where  a.amtacctcr<>0 and a.line_id is null and a.ad_table_id=318
				)  as tkc on c_invoiceline.c_invoice_id=tkc.RECORD_ID and c_invoiceline.c_invoice_id=$P{RECORD_ID} 
				
left join  (select distinct tk.value,a.line_id from fact_acct a  
					join c_elementvalue tk on tk.c_elementvalue_id=a.account_id
					where  a.amtacctdr<>0 and  a.ad_table_id=318
				)  as tkn on c_invoiceline.c_invoiceline_id=tkn.line_id and  c_invoiceline.c_invoice_id=$P{RECORD_ID} 

where  c_invoiceline.c_invoice_id=$P{RECORD_ID}

union all

select '' as t,cast(c_charge.c_charge_id as text) as mh,c_charge.name as th,'' as dvt,c_invoiceline.qtyentered as sl,c_invoiceline.priceentered as gia,c_invoiceline.qtyentered*c_invoiceline.priceentered as tt
		,tkn.value as tkn,tkc.value as tkc
 from c_invoiceline
 join c_invoice on c_invoiceline.c_invoice_id=c_invoice.c_invoice_id
 join c_charge on c_invoiceline.c_charge_id=c_charge.c_charge_id
 
 left join  (select distinct tk.value,a.RECORD_ID from fact_acct a  
					join c_elementvalue tk on tk.c_elementvalue_id=a.account_id
					where  a.amtacctdr<>0 and a.line_id is null and a.ad_table_id=318
				)  as tkn on c_invoiceline.c_invoice_id=tkn.RECORD_ID and c_invoiceline.c_invoice_id=$P{RECORD_ID} 
				
left join  (select distinct tk.value,a.line_id from fact_acct a  
					join c_elementvalue tk on tk.c_elementvalue_id=a.account_id
					where  a.amtacctcr<>0 and  a.ad_table_id=318
				)  as tkc on c_invoiceline.c_invoiceline_id=tkc.line_id and  c_invoiceline.c_invoice_id=$P{RECORD_ID} 
				
where  c_invoiceline.c_invoice_id=$P{RECORD_ID}

]]>
	</queryString>
	<field name="mh" class="java.lang.String"/>
	<field name="dvt" class="java.lang.String"/>
	<field name="sl" class="java.math.BigDecimal"/>
	<field name="gia" class="java.math.BigDecimal"/>
	<field name="tt" class="java.math.BigDecimal"/>
	<field name="th" class="java.lang.String"/>
	<field name="t" class="java.lang.String"/>
	<field name="tkn" class="java.lang.String"/>
	<field name="tkc" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="35" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="0" y="0" width="70" height="30" uuid="9b25b95e-b85e-44d8-95c8-0b7b1661b48c"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Mã hàng]]></text>
			</staticText>
			<staticText>
				<reportElement x="70" y="0" width="158" height="30" uuid="edfe045e-26e4-4b3c-8d08-1bd0f99baca6"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Tên hàng]]></text>
			</staticText>
			<staticText>
				<reportElement x="280" y="0" width="30" height="30" uuid="82e9e744-1d7b-4633-ab30-7ff129058232"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[ĐVT]]></text>
			</staticText>
			<staticText>
				<reportElement x="310" y="0" width="40" height="30" uuid="8a5bbc35-31b1-46a3-b331-486d7ccc51da"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Số lượng]]></text>
			</staticText>
			<staticText>
				<reportElement x="350" y="0" width="60" height="30" uuid="64daa436-e8d5-4c34-a9e1-87755055edd6"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Giá]]></text>
			</staticText>
			<staticText>
				<reportElement x="410" y="0" width="70" height="30" uuid="37efbaec-c730-42d6-826b-9d1f89f1e51f"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Thành tiền]]></text>
			</staticText>
			<staticText>
				<reportElement x="228" y="0" width="52" height="30" uuid="6a0fea19-8ce1-42c6-a1b2-e40301acea98"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Thuộc tính]]></text>
			</staticText>
			<staticText>
				<reportElement x="480" y="0" width="30" height="30" uuid="7d2f8ea1-4b42-45b5-8e68-09482ff9cc90"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[TK Nợ]]></text>
			</staticText>
			<staticText>
				<reportElement x="510" y="0" width="30" height="30" uuid="ea0f5cae-1529-4cad-b116-82c7cb145e24"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[TK Có]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="27" splitType="Stretch">
			<textField>
				<reportElement x="0" y="-5" width="70" height="26" uuid="66e197b2-98f9-4620-bb16-0be2e5e2224e"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mh}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="280" y="-5" width="30" height="26" uuid="30065e54-f88a-4b96-a34e-a24e40557944"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dvt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;(#,##0.###-)" isBlankWhenNull="true">
				<reportElement x="310" y="-5" width="40" height="26" uuid="78bc473f-3762-4804-863f-46afdc5600f8"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{sl}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;(#,##0.###-)" isBlankWhenNull="true">
				<reportElement x="350" y="-5" width="60" height="26" uuid="7f37ee72-ab9c-41aa-adcc-8f367214288c"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gia}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;(#,##0.###-)" isBlankWhenNull="true">
				<reportElement x="410" y="-5" width="70" height="26" uuid="052fcbcb-37c6-4cd9-9e20-0448b2de44c6"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tt}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="70" y="-5" width="158" height="26" uuid="01ac6921-e6a9-422c-9f0a-a1c7a54355ac"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{th}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="228" y="-5" width="52" height="26" uuid="c703a954-7205-480c-8177-e57a0b360dd2"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{t}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;(#,##0.###-)" isBlankWhenNull="true">
				<reportElement x="480" y="-5" width="30" height="26" uuid="8c4e1108-0842-4728-84ca-c00e1efd515d"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tkn}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;(#,##0.###-)" isBlankWhenNull="true">
				<reportElement x="510" y="-5" width="30" height="26" uuid="5cd037c9-2368-47cb-a258-72859e6dd3a0"/>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tkc}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
