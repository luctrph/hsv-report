<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="BC_quan_tri_luong_quan_ly" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6241fdc4-efb7-4baf-9cd4-b32777ec34b6">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="psql"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="StartDate" class="java.util.Date"/>
	<parameter name="EndDate" class="java.util.Date"/>
	<queryString language="SQL">
		<![CDATA[with danhmuc as (
	select name, hsv_luongql_id, hsv_stt 
	from hsv_luongql 
	where ad_client_id = $P{AD_CLIENT_ID}
	and isactive = 'Y'
),

dongia as (
	select dgl.hsv_luongql_id ,dgl.hsv_dongialuong,dg.startdate ,dg.enddate, dgl.hsv_luongcd  
	from hsv_dgluong dg 
	join hsv_dgluongline dgl on dg.hsv_dgluong_id =dgl.hsv_dgluong_id 
	where dg.ad_client_id = $P{AD_CLIENT_ID} and dgl.isactive = 'Y' and dg.isactive = 'Y' and dg.hsv_loaidongia_id =1000038
),

soluong as (
	select sum(civ.qtyentered) qty,ci.dateacct
	from c_invoice ci 
	join c_invoiceline civ on ci.c_invoice_id = civ.c_invoice_id 
	join m_product hh on hh.m_product_id = civ.m_product_id and hh.m_attributeset_id = 1000000
	where ci.issotrx = 'Y' and ci.docstatus in ('CL','CO') and ci.dateacct >= $P{StartDate} and ci.dateacct <= $P{EndDate}
	and ci.ad_client_id = $P{AD_CLIENT_ID}
	group by ci.dateacct
)

select row_number() over (order by cast(dm.hsv_stt as integer)) as stt, dm.name,  sl.qty as sl,  dg.hsv_dongialuong as dg,dg.hsv_luongcd as dm , sl.qty*dg.hsv_dongialuong as tt
from danhmuc dm 
join dongia dg on dm.hsv_luongql_id =dg.hsv_luongql_id
join soluong sl on true
where sl.dateacct >= dg.startdate and sl.dateacct <= dg.enddate


]]>
	</queryString>
	<field name="stt" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="stt"/>
		<property name="com.jaspersoft.studio.field.label" value="stt"/>
	</field>
	<field name="name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="name"/>
		<property name="com.jaspersoft.studio.field.label" value="name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="hsv_luongql"/>
	</field>
	<field name="sl" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="sl"/>
		<property name="com.jaspersoft.studio.field.label" value="sl"/>
	</field>
	<field name="dg" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="dg"/>
		<property name="com.jaspersoft.studio.field.label" value="dg"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="hsv_dgluongline"/>
	</field>
	<field name="dm" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="dm"/>
		<property name="com.jaspersoft.studio.field.label" value="dm"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="hsv_dgluongline"/>
	</field>
	<field name="tt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="tt"/>
		<property name="com.jaspersoft.studio.field.label" value="tt"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="30" splitType="Stretch">
			<staticText>
				<reportElement x="30" y="0" width="174" height="30" uuid="f11b793d-4d49-425a-8d84-b788d73fdf30">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e81b2aeb-7abc-4652-9b02-d6f91a70c648"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[name]]></text>
			</staticText>
			<staticText>
				<reportElement x="204" y="0" width="76" height="30" uuid="13de70c4-6daf-4f79-957d-70d24363338a">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="10d27586-b291-48fb-8604-4c6dfdf0a033"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Số lượng]]></text>
			</staticText>
			<staticText>
				<reportElement x="280" y="0" width="44" height="30" uuid="6610e7da-a109-4efb-88f7-75a4c0268d04">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a9e0f917-65d2-4382-8ff9-a935fbfd775c"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Đơn giá]]></text>
			</staticText>
			<staticText>
				<reportElement x="324" y="0" width="80" height="30" uuid="9c0d0bbc-1c44-4ad8-b5c6-2d66267dfded">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1bd3c6ed-c0c9-4d87-ac86-1cc18228ad17"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Định mức]]></text>
			</staticText>
			<staticText>
				<reportElement x="404" y="0" width="80" height="30" uuid="c210c33a-1b67-4ae5-b4d1-c6947a199dfb">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc2e0461-cf07-4a39-84ab-ed8a0ff69fd7"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Thành tiền]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="30" height="30" uuid="e412d82a-ae4b-4909-bbf3-553ee9a06824">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e81b2aeb-7abc-4652-9b02-d6f91a70c648"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[STT]]></text>
			</staticText>
			<staticText>
				<reportElement x="484" y="0" width="80" height="30" uuid="0d0b5156-c2d7-4bce-a987-76f47241d064">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc2e0461-cf07-4a39-84ab-ed8a0ff69fd7"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Ghi chú]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="30" splitType="Stretch">
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="30" y="0" width="174" height="30" uuid="7595cc39-1ac0-4e18-9280-8e19cc322926">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e81b2aeb-7abc-4652-9b02-d6f91a70c648"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="204" y="0" width="76" height="30" uuid="5023be72-8f93-4715-848c-4b74661d20e2">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="10d27586-b291-48fb-8604-4c6dfdf0a033"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{sl}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="280" y="0" width="44" height="30" uuid="dfa766df-1b49-48af-a0f2-6b366209be27">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a9e0f917-65d2-4382-8ff9-a935fbfd775c"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dg}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="324" y="0" width="80" height="30" uuid="f94718fb-3843-49fe-aeb8-151dd15a2ad9">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1bd3c6ed-c0c9-4d87-ac86-1cc18228ad17"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dm}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="404" y="0" width="80" height="30" uuid="bae59190-6e30-4328-b9dd-7720a544c0a9">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc2e0461-cf07-4a39-84ab-ed8a0ff69fd7"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="30" height="30" uuid="ad7d0058-7b72-43b8-95eb-96016f5cdabe">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e81b2aeb-7abc-4652-9b02-d6f91a70c648"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{stt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.##" isBlankWhenNull="true">
				<reportElement x="484" y="0" width="80" height="30" uuid="ccd2deda-00f7-4014-bad2-c8811da7336d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="dc2e0461-cf07-4a39-84ab-ed8a0ff69fd7"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
					<pen lineWidth="0.5"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
