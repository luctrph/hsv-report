<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="sub_Ky_ketoan" pageWidth="555" pageHeight="792" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="c75f0d14-38a9-4f2f-bb2c-ae912401ca31">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="psql"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="C_Period_ID" class="java.lang.Integer"/>
	<parameter name="Account_ID" class="java.lang.Integer"/>
	<parameter name="C_BPartner_ID" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[select 	startdate,
		enddate ,
		case when $P{Account_ID} is not null then concat(ce.value,'_',ce."name") end as tai_khoan,
		case when $P{C_BPartner_ID} is not null then cb.name end as name
 from c_period c
 left join c_bpartner cb ON cb.c_bpartner_id = $P{C_BPartner_ID}
 left join c_elementvalue  ce on  ce.c_elementvalue_id = $P{Account_ID}
 where c.c_period_id =  $P{C_Period_ID} and c.ad_client_id = $P{AD_CLIENT_ID}]]>
	</queryString>
	<field name="startdate" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="startdate"/>
		<property name="com.jaspersoft.studio.field.label" value="startdate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_period"/>
	</field>
	<field name="enddate" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="enddate"/>
		<property name="com.jaspersoft.studio.field.label" value="enddate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_period"/>
	</field>
	<field name="tai_khoan" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tai_khoan"/>
		<property name="com.jaspersoft.studio.field.label" value="tai_khoan"/>
	</field>
	<field name="name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="name"/>
		<property name="com.jaspersoft.studio.field.label" value="name"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="69" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="555" height="25" uuid="5d6a613f-68ba-4b0f-8882-2e52e2542f7a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Kỳ kế toán từ:  "+new SimpleDateFormat("dd/MM/yyyy").format($F{startdate}) +"    đến:  " +new SimpleDateFormat("dd/MM/yyyy").format($F{enddate})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="25" width="553" height="22" uuid="b2ae7af7-c6cf-4419-9815-302260c345d8">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tai_khoan}==null?null:"Tài khoản: "+$F{tai_khoan}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="47" width="555" height="22" uuid="e23cef60-57ea-423e-9dc8-2e55cca5749e"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{name}==null?null:"Đối tượng: "+$F{name}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
