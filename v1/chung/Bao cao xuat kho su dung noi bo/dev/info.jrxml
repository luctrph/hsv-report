<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.20.0.final using JasperReports Library version 6.20.0-2bc7ab61c56f459e8176eb05c7705e145cd400ad  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="info" pageWidth="555" pageHeight="842" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="8bdaefdc-da0a-42d5-927c-5c799af35833">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="psql"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="AD_Org_ID" class="java.lang.Integer"/>
	<parameter name="C_Activity_ID" class="java.lang.Integer"/>
	<parameter name="M_Locator_ID" class="java.lang.Integer"/>
	<parameter name="M_Product_Category_ID" class="java.lang.Integer"/>
	<parameter name="M_Product_ID" class="java.lang.Integer"/>
	<parameter name="C_Campaign_ID" class="java.lang.Integer"/>
	<queryString language="SQL">
		<![CDATA[SELECT DISTINCT 
    ad.name AS ad_org,
    ca.name AS hoatdong,
    lo.value AS kho,
    mp.name as category_name,
    hh.name as name_product,
    cc.name as chien_dich
FROM ad_client ac
LEFT JOIN ad_org ad     
       ON ad.ad_org_id = $P{AD_Org_ID}
LEFT JOIN C_Activity ca 
       ON ca.c_activity_id = $P{C_Activity_ID}    
LEFT JOIN M_Locator lo  
       ON lo.m_locator_id = $P{M_Locator_ID}
left join m_product_category  mp on mp.m_product_category_id  =  $P{M_Product_Category_ID}
left join m_product hh on hh.m_product_id = $P{M_Product_ID}
        AND lo.ad_client_id = $P{AD_CLIENT_ID}
left join c_campaign cc ON cc.c_campaign_id = $P{C_Campaign_ID}
WHERE COALESCE($P{AD_Org_ID}, $P{C_Activity_ID}, $P{M_Locator_ID}, $P{M_Product_Category_ID},$P{M_Product_ID},$P{C_Campaign_ID}) IS NOT NULL]]>
	</queryString>
	<field name="ad_org" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="ad_org"/>
		<property name="com.jaspersoft.studio.field.label" value="ad_org"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ad_org"/>
	</field>
	<field name="hoatdong" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="hoatdong"/>
		<property name="com.jaspersoft.studio.field.label" value="hoatdong"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_activity"/>
	</field>
	<field name="kho" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="kho"/>
		<property name="com.jaspersoft.studio.field.label" value="kho"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="m_locator"/>
	</field>
	<field name="category_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="category_name"/>
		<property name="com.jaspersoft.studio.field.label" value="category_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="m_product_category"/>
	</field>
	<field name="name_product" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="name_product"/>
		<property name="com.jaspersoft.studio.field.label" value="name_product"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="m_product"/>
	</field>
	<field name="chien_dich" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="chien_dich"/>
		<property name="com.jaspersoft.studio.field.label" value="chien_dich"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_campaign"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="50" splitType="Stretch">
			<textField>
				<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="555" height="50" uuid="3085f17c-cce3-483b-b319-40db82974571">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement markup="html">
					<font fontName="Arial" size="11"/>
				</textElement>
				<textFieldExpression><![CDATA[String.join(" \t\t\t", 
    java.util.stream.Stream.of("<b>Bộ phận:"+$F{ad_org}+"<\b", 
    	$F{hoatdong},
    	 $F{kho},
    	  $F{category_name}, 
    	  $F{name_product}, 
    	  $F{chien_dich}
    )
        .filter(v -> v != null && !v.isEmpty())
        .toArray(String[]::new)
)]]></textFieldExpression>
			</textField>
		</band>
	</title>
</jasperReport>
